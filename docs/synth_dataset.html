---

title: Synth Dataset Generator


keywords: fastai
sidebar: home_sidebar

summary: "Module to generate Synthetic Datasets to perform tests"
description: "Module to generate Synthetic Datasets to perform tests"
nb_path: "notebooks/01_synth_dataset.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/01_synth_dataset.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This module is used to initialize datasets to test the models created with this library</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="df_highlight_interaction" class="doc_header"><code>df_highlight_interaction</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L23" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>df_highlight_interaction</code>(<strong><code>s</code></strong>)</p>
</blockquote>
<p>highlight the maximum in a Series yellow.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="df_color_positive_interaction" class="doc_header"><code>df_color_positive_interaction</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L32" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>df_color_positive_interaction</code>(<strong><code>val</code></strong>)</p>
</blockquote>
<p>Takes a scalar and returns a string with
the css property <code>'color: red'</code> for negative
strings, black otherwise.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gen_values" class="doc_header"><code>gen_values</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L42" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gen_values</code>(<strong><code>n_values</code></strong>:<code>int</code>=<em><code>10</code></em>, <strong><code>prefix</code></strong>:<code>str</code>=<em><code>'u'</code></em>)</p>
</blockquote>
<p>Generates a list of values that will be used for generate the dataset</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gen_values</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;u0&#39;, &#39;u1&#39;, &#39;u2&#39;, &#39;u3&#39;, &#39;u4&#39;, &#39;u5&#39;, &#39;u6&#39;, &#39;u7&#39;, &#39;u8&#39;, &#39;u9&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gen_added_n_deleted" class="doc_header"><code>gen_added_n_deleted</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L50" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gen_added_n_deleted</code>(<strong><code>l_values</code></strong>:<code>list</code>, <strong><code>max_added</code></strong>:<code>int</code>=<em><code>3</code></em>, <strong><code>max_deleted</code></strong>:<code>int</code>=<em><code>3</code></em>)</p>
</blockquote>
<p>Generates two lists of values, one list will contain the values that will be deleted from the dataset,
and the second one will contain the values that will be added to the dataset.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gen_added_n_deleted</span><span class="p">(</span><span class="n">gen_values</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>([&#39;u3&#39;, &#39;u4&#39;, &#39;u5&#39;], [&#39;u0&#39;, &#39;u1&#39;, &#39;u2&#39;])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="exclude_element" class="doc_header"><code>exclude_element</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L67" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>exclude_element</code>(<strong><code>l</code></strong>:<code>list</code>, <strong><code>values_to_exclude</code></strong>:<code>list</code>, <strong><code>shuffle</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Excludes the elements from <strong>values_to_exclude</strong> from <strong>l</strong></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gen_interactions" class="doc_header"><code>gen_interactions</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L74" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gen_interactions</code>(<strong><code>l1</code></strong>:<code>list</code>, <strong><code>l2</code></strong>:<code>list</code>, <strong><code>l1_col_name</code></strong>:<code>str</code>=<em><code>'user_id'</code></em>, <strong><code>l2_col_name</code></strong>:<code>str</code>=<em><code>'item_id'</code></em>, <strong><code>sparsity</code></strong>:<code>float</code>=<em><code>0.5</code></em>, <strong><code>feedback</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>timestamp</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>fixed_length</code></strong>:<code>int</code>=<em><code>None</code></em>)</p>
</blockquote>
<p>Generates interactions between l1 and l2.
The sparsity determines how sparse this interactions will be.
The fixed_length determines the number of interactions between one item in l1 will have with the items in l2.
If fixed_length is not None, it will be taken over sparsity
If feedback equals <strong>True</strong> a column with feedback of one is added
If timestamp equals <strong>True</strong> a column with a timestamp is added in order to determine the order in which each interaction occurred</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gen_random_interactions" class="doc_header"><code>gen_random_interactions</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L101" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gen_random_interactions</code>(<strong><code>l1</code></strong>:<code>list</code>, <strong><code>l2</code></strong>:<code>list</code>, <strong><code>interactions</code></strong>:<code>dict</code>, <strong><code>l1_col_name</code></strong>:<code>str</code>=<em><code>'user_id'</code></em>, <strong><code>l2_col_name</code></strong>:<code>str</code>=<em><code>'item_id'</code></em>, <strong><code>sparsity</code></strong>:<code>float</code>=<em><code>0.5</code></em>, <strong><code>feedback</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>timestamp</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Generates random interactions between l1 and l2.
Each element in l1 will interact once with 0 or up to <strong>len(l2)</strong> elements in l2.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gen_fixed_interactions" class="doc_header"><code>gen_fixed_interactions</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L123" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gen_fixed_interactions</code>(<strong><code>l1</code></strong>:<code>list</code>, <strong><code>l2</code></strong>:<code>list</code>, <strong><code>interactions</code></strong>:<code>dict</code>, <strong><code>l1_col_name</code></strong>:<code>str</code>=<em><code>'user_id'</code></em>, <strong><code>l2_col_name</code></strong>:<code>str</code>=<em><code>'item_id'</code></em>, <strong><code>fixed_length</code></strong>:<code>int</code>=<em><code>5</code></em>, <strong><code>feedback</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>timestamp</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Generates a fixed amount of interactions between l1 and l2.
The interactions between every element in l1 with l2 are randomized, but each element in l1
will interact once with (<strong>fixed_length</strong>)  elements in l2, unless fixed_lengh &gt; len(l2), otherwise
each element in l1 will interact once with all the elements in l2</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gen_metadata_from_df" class="doc_header"><code>gen_metadata_from_df</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L151" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gen_metadata_from_df</code>(<strong><code>metadata_interactions_df</code></strong>:<code>DataFrame</code>, <strong><code>element_id_column</code></strong>:<code>str</code>, <strong><code>metadata_column</code></strong>:<code>str</code>, <strong><code>tolist</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Builds tuples of elements and its metadata to build the dataset</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gen_metadata_df" class="doc_header"><code>gen_metadata_df</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L165" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gen_metadata_df</code>(<strong><code>element_metadata_list</code></strong>:<code>list</code>, <strong><code>element_name</code></strong>:<code>str</code>, <strong><code>metadata_name</code></strong>:<code>str</code>=<em><code>'metadata_id'</code></em>)</p>
</blockquote>
<p>Takes the elements with its metadata and generates a Dataframe with the interactions
@element_metadata_list: a list of tuples that contain an element and a list its corresponding metadata
@element_name: the name of the element that has metadata assigned</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="SynthDatasetGenerator" class="doc_header"><code>class</code> <code>SynthDatasetGenerator</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L180" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>SynthDatasetGenerator</code>()</p>
</blockquote>
<p>Instance of two states of a dataset, one at time <strong>T</strong> and the other at time <strong>T+1</strong>
where some users and items could had been added, deleted, and also their feautes</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.add_user_metadata" class="doc_header"><code>SynthDatasetGenerator.add_user_metadata</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L206" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.add_user_metadata</code>(<strong><code>sparsity</code></strong>=<em><code>0.5</code></em>, <strong><code>fixed_length</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Adds metadata to the users</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.add_item_metadata" class="doc_header"><code>SynthDatasetGenerator.add_item_metadata</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L225" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.add_item_metadata</code>(<strong><code>sparsity</code></strong>=<em><code>0.5</code></em>, <strong><code>fixed_length</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Adds metadata to the items</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.gen_users_n_items" class="doc_header"><code>SynthDatasetGenerator.gen_users_n_items</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L245" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.gen_users_n_items</code>(<strong><code>n_users</code></strong>:<code>int</code>, <strong><code>n_items</code></strong>:<code>int</code>)</p>
</blockquote>
<p>Method to generate all users and items</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.gen_metadata" class="doc_header"><code>SynthDatasetGenerator.gen_metadata</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L255" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.gen_metadata</code>(<strong><code>n_user_metadata</code></strong>:<code>int</code>, <strong><code>n_item_metadata</code></strong>:<code>int</code>)</p>
</blockquote>
<p>Generates metadata for users and items</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.print_dataset_components" class="doc_header"><code>SynthDatasetGenerator.print_dataset_components</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L263" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.print_dataset_components</code>(<strong><code>add_user_metadata</code></strong>:<code>bool</code>, <strong><code>add_item_metadata</code></strong>:<code>bool</code>)</p>
</blockquote>
<p>Prints the Dataset components</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.gen_before_n_after_datasets" class="doc_header"><code>SynthDatasetGenerator.gen_before_n_after_datasets</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L277" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.gen_before_n_after_datasets</code>()</p>
</blockquote>
<p>Generates first and second state from the dataset. before is the dataset that
contains the users and items at time T and after is the dataset at time T+1
where some users and items were deleted and new ones were added</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.gen_synth_dataset" class="doc_header"><code>SynthDatasetGenerator.gen_synth_dataset</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L295" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.gen_synth_dataset</code>(<strong><code>n_users</code></strong>:<code>int</code>=<em><code>10</code></em>, <strong><code>n_items</code></strong>:<code>int</code>=<em><code>10</code></em>, <strong><code>max_added</code></strong>:<code>int</code>=<em><code>3</code></em>, <strong><code>max_deleted</code></strong>:<code>int</code>=<em><code>3</code></em>, <strong><code>print_added_n_deleted</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>add_user_metadata</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>add_item_metadata</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>n_user_metadata</code></strong>:<code>int</code>=<em><code>10</code></em>, <strong><code>n_item_metadata</code></strong>:<code>int</code>=<em><code>10</code></em>, <strong><code>sparsity</code></strong>=<em><code>0.2</code></em>, <strong><code>fixed_length</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>This function generates two <strong>datasets</strong> to simulate changes through time from one dataset.
The first generated <strong>dataset</strong> is the state from the data in a time <em>t</em> and the second dataset
simulates the state from the data at a time <em>t+1</em> where some users and items where added and deleted,
and their metadata could be also updated (new metadata that expresses better the characteristics from that item, or just corrections)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">SynthDatasetGenerator</span><span class="p">()</span>
<span class="c1"># x.gen_synth_dataset(print_added_n_deleted=True, add_user_metadata=True, add_item_metadata=True)</span>
<span class="n">x</span><span class="o">.</span><span class="n">gen_synth_dataset</span><span class="p">(</span><span class="n">print_added_n_deleted</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">add_user_metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">add_item_metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fixed_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="c1"># x.before[&#39;user_id&#39;], x.after[&#39;user_id&#39;], x.before[&#39;item_id&#39;], x.after[&#39;item_id&#39;]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>added users: [&#39;u1&#39;, &#39;u2&#39;, &#39;u5&#39;]	 deleted users: [&#39;u0&#39;, &#39;u3&#39;, &#39;u4&#39;]
added items: [&#39;i3&#39;, &#39;i4&#39;, &#39;i5&#39;]	 deleted items: [&#39;i0&#39;, &#39;i1&#39;, &#39;i2&#39;]
users before:	[&#39;u0&#39;, &#39;u3&#39;, &#39;u4&#39;, &#39;u6&#39;, &#39;u7&#39;, &#39;u8&#39;, &#39;u9&#39;]
users after:	[&#39;u1&#39;, &#39;u2&#39;, &#39;u5&#39;, &#39;u6&#39;, &#39;u7&#39;, &#39;u8&#39;, &#39;u9&#39;]
items before:	[&#39;i0&#39;, &#39;i1&#39;, &#39;i2&#39;, &#39;i6&#39;, &#39;i7&#39;, &#39;i8&#39;, &#39;i9&#39;]
items after:	[&#39;i3&#39;, &#39;i4&#39;, &#39;i5&#39;, &#39;i6&#39;, &#39;i7&#39;, &#39;i8&#39;, &#39;i9&#39;]
added user features: [&#39;uf4&#39;, &#39;uf5&#39;, &#39;uf6&#39;]	 deleted user features: [&#39;uf0&#39;, &#39;uf1&#39;, &#39;uf2&#39;]
added item features: [&#39;if3&#39;, &#39;if4&#39;, &#39;if5&#39;]	 deleted item features: [&#39;if0&#39;, &#39;if1&#39;, &#39;if2&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.gen_user_item_interactions" class="doc_header"><code>SynthDatasetGenerator.gen_user_item_interactions</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L389" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.gen_user_item_interactions</code>(<strong><code>tplus</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>sparsity</code></strong>:<code>float</code>=<em><code>0.5</code></em>, <strong><code>feedback</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>timestamp</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>
<p>Builds interactions between users and items. If <code>tlus=False</code> the interactions build will be based on
the original state of the dataset, else it will be based on the new state of the dataset, with the added
and deleted users and items respectively</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="SynthDatasetGenerator.top_interactions_crosstab" class="doc_header"><code>SynthDatasetGenerator.top_interactions_crosstab</code><a href="https://github.com/sgaseretto/hybrec/tree/master/hybrec/synth.py#L407" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>SynthDatasetGenerator.top_interactions_crosstab</code>(<strong><code>df_interactions</code></strong>:<code>DataFrame</code>, <strong><code>hightlight_interaction</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>color_interaction</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Takes the interactions DataFrame (user-item interactions or object-metadata interactions) and transforms de
Dataframe in a crosstab between the most interacted abstractions (user-item or object-metadata)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">gen_user_item_interactions</span><span class="p">()</span>
<span class="n">crosstab</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">top_interactions_crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hightlight_interaction</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">crosstab</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">df_highlight_interaction</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<style  type="text/css" >
#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col0,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col1,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col2,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col3,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col5,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col2,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col4,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col3,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col4,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col5,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col0,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col1,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col2,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col3,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col0,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col1,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col2,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col3,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col4,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col6,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col1,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col2,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col3,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col6,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col2,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col3,#T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col5{
            background-color:  #1a8a1c;
             color:  white;
        }</style><table id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002" ><thead>    <tr>        <th class="index_name level0" >item_id</th>        <th class="col_heading level0 col0" >i0</th>        <th class="col_heading level0 col1" >i1</th>        <th class="col_heading level0 col2" >i2</th>        <th class="col_heading level0 col3" >i6</th>        <th class="col_heading level0 col4" >i7</th>        <th class="col_heading level0 col5" >i8</th>        <th class="col_heading level0 col6" >i9</th>    </tr>    <tr>        <th class="index_name level0" >user_id</th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002level0_row0" class="row_heading level0 row0" >u0</th>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col0" class="data row0 col0" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col1" class="data row0 col1" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col2" class="data row0 col2" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col3" class="data row0 col3" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col4" class="data row0 col4" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col5" class="data row0 col5" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row0_col6" class="data row0 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002level0_row1" class="row_heading level0 row1" >u3</th>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col0" class="data row1 col0" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col1" class="data row1 col1" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col2" class="data row1 col2" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col3" class="data row1 col3" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col4" class="data row1 col4" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col5" class="data row1 col5" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row1_col6" class="data row1 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002level0_row2" class="row_heading level0 row2" >u4</th>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col0" class="data row2 col0" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col1" class="data row2 col1" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col2" class="data row2 col2" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col3" class="data row2 col3" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col4" class="data row2 col4" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col5" class="data row2 col5" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row2_col6" class="data row2 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002level0_row3" class="row_heading level0 row3" >u6</th>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col0" class="data row3 col0" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col1" class="data row3 col1" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col2" class="data row3 col2" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col3" class="data row3 col3" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col4" class="data row3 col4" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col5" class="data row3 col5" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row3_col6" class="data row3 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002level0_row4" class="row_heading level0 row4" >u7</th>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col0" class="data row4 col0" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col1" class="data row4 col1" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col2" class="data row4 col2" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col3" class="data row4 col3" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col4" class="data row4 col4" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col5" class="data row4 col5" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row4_col6" class="data row4 col6" >1.000000</td>
            </tr>
            <tr>
                        <th id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002level0_row5" class="row_heading level0 row5" >u8</th>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col0" class="data row5 col0" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col1" class="data row5 col1" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col2" class="data row5 col2" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col3" class="data row5 col3" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col4" class="data row5 col4" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col5" class="data row5 col5" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row5_col6" class="data row5 col6" >1.000000</td>
            </tr>
            <tr>
                        <th id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002level0_row6" class="row_heading level0 row6" >u9</th>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col0" class="data row6 col0" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col1" class="data row6 col1" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col2" class="data row6 col2" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col3" class="data row6 col3" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col4" class="data row6 col4" >nan</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col5" class="data row6 col5" >1.000000</td>
                        <td id="T_84aa9b54_5454_11eb_ab9e_0242c0a85002row6_col6" class="data row6 col6" >nan</td>
            </tr>
    </tbody></table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">crosstab</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">df_color_positive_interaction</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<style  type="text/css" >
#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col0,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col1,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col2,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col3,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col5,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col2,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col4,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col3,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col4,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col5,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col0,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col1,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col2,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col3,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col0,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col1,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col2,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col3,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col4,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col6,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col1,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col2,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col3,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col6,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col2,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col3,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col5{
            color:  #1db31f;
        }#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col4,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col6,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col0,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col1,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col3,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col5,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col6,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col0,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col1,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col2,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col6,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col4,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col5,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col6,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col5,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col0,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col4,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col5,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col0,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col1,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col4,#T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col6{
            color:  #bfbfbf;
        }</style><table id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002" ><thead>    <tr>        <th class="index_name level0" >item_id</th>        <th class="col_heading level0 col0" >i0</th>        <th class="col_heading level0 col1" >i1</th>        <th class="col_heading level0 col2" >i2</th>        <th class="col_heading level0 col3" >i6</th>        <th class="col_heading level0 col4" >i7</th>        <th class="col_heading level0 col5" >i8</th>        <th class="col_heading level0 col6" >i9</th>    </tr>    <tr>        <th class="index_name level0" >user_id</th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>        <th class="blank" ></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002level0_row0" class="row_heading level0 row0" >u0</th>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col0" class="data row0 col0" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col1" class="data row0 col1" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col2" class="data row0 col2" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col3" class="data row0 col3" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col4" class="data row0 col4" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col5" class="data row0 col5" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row0_col6" class="data row0 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002level0_row1" class="row_heading level0 row1" >u3</th>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col0" class="data row1 col0" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col1" class="data row1 col1" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col2" class="data row1 col2" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col3" class="data row1 col3" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col4" class="data row1 col4" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col5" class="data row1 col5" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row1_col6" class="data row1 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002level0_row2" class="row_heading level0 row2" >u4</th>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col0" class="data row2 col0" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col1" class="data row2 col1" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col2" class="data row2 col2" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col3" class="data row2 col3" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col4" class="data row2 col4" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col5" class="data row2 col5" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row2_col6" class="data row2 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002level0_row3" class="row_heading level0 row3" >u6</th>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col0" class="data row3 col0" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col1" class="data row3 col1" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col2" class="data row3 col2" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col3" class="data row3 col3" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col4" class="data row3 col4" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col5" class="data row3 col5" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row3_col6" class="data row3 col6" >nan</td>
            </tr>
            <tr>
                        <th id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002level0_row4" class="row_heading level0 row4" >u7</th>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col0" class="data row4 col0" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col1" class="data row4 col1" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col2" class="data row4 col2" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col3" class="data row4 col3" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col4" class="data row4 col4" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col5" class="data row4 col5" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row4_col6" class="data row4 col6" >1.000000</td>
            </tr>
            <tr>
                        <th id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002level0_row5" class="row_heading level0 row5" >u8</th>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col0" class="data row5 col0" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col1" class="data row5 col1" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col2" class="data row5 col2" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col3" class="data row5 col3" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col4" class="data row5 col4" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col5" class="data row5 col5" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row5_col6" class="data row5 col6" >1.000000</td>
            </tr>
            <tr>
                        <th id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002level0_row6" class="row_heading level0 row6" >u9</th>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col0" class="data row6 col0" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col1" class="data row6 col1" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col2" class="data row6 col2" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col3" class="data row6 col3" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col4" class="data row6 col4" >nan</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col5" class="data row6 col5" >1.000000</td>
                        <td id="T_84ccbc0c_5454_11eb_ab9e_0242c0a85002row6_col6" class="data row6 col6" >nan</td>
            </tr>
    </tbody></table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">before</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;user_id&#39;: [&#39;u0&#39;, &#39;u3&#39;, &#39;u4&#39;, &#39;u6&#39;, &#39;u7&#39;, &#39;u8&#39;, &#39;u9&#39;],
 &#39;item_id&#39;: [&#39;i0&#39;, &#39;i1&#39;, &#39;i2&#39;, &#39;i6&#39;, &#39;i7&#39;, &#39;i8&#39;, &#39;i9&#39;],
 &#39;user_metadata&#39;: [&#39;uf0&#39;, &#39;uf1&#39;, &#39;uf2&#39;, &#39;uf3&#39;, &#39;uf7&#39;, &#39;uf8&#39;, &#39;uf9&#39;],
 &#39;user_metadata_interaction&#39;: [(&#39;u0&#39;, [&#39;uf2&#39;, &#39;uf8&#39;, &#39;uf7&#39;, &#39;uf9&#39;, &#39;uf1&#39;]),
  (&#39;u3&#39;, [&#39;uf7&#39;, &#39;uf8&#39;, &#39;uf2&#39;, &#39;uf0&#39;, &#39;uf9&#39;]),
  (&#39;u4&#39;, [&#39;uf3&#39;, &#39;uf7&#39;, &#39;uf9&#39;, &#39;uf8&#39;, &#39;uf1&#39;]),
  (&#39;u6&#39;, [&#39;uf1&#39;, &#39;uf2&#39;, &#39;uf7&#39;, &#39;uf3&#39;, &#39;uf0&#39;]),
  (&#39;u7&#39;, [&#39;uf7&#39;, &#39;uf1&#39;, &#39;uf0&#39;, &#39;uf2&#39;, &#39;uf3&#39;]),
  (&#39;u8&#39;, [&#39;uf1&#39;, &#39;uf9&#39;, &#39;uf0&#39;, &#39;uf2&#39;, &#39;uf7&#39;]),
  (&#39;u9&#39;, [&#39;uf0&#39;, &#39;uf3&#39;, &#39;uf7&#39;, &#39;uf9&#39;, &#39;uf2&#39;])],
 &#39;item_metadata&#39;: [&#39;if0&#39;, &#39;if1&#39;, &#39;if2&#39;, &#39;if6&#39;, &#39;if7&#39;, &#39;if8&#39;, &#39;if9&#39;],
 &#39;item_metadata_interaction&#39;: [(&#39;i0&#39;, [&#39;if1&#39;, &#39;if6&#39;, &#39;if7&#39;, &#39;if9&#39;, &#39;if2&#39;]),
  (&#39;i1&#39;, [&#39;if8&#39;, &#39;if6&#39;, &#39;if1&#39;, &#39;if0&#39;, &#39;if9&#39;]),
  (&#39;i2&#39;, [&#39;if9&#39;, &#39;if1&#39;, &#39;if6&#39;, &#39;if7&#39;, &#39;if2&#39;]),
  (&#39;i6&#39;, [&#39;if6&#39;, &#39;if2&#39;, &#39;if9&#39;, &#39;if8&#39;, &#39;if1&#39;]),
  (&#39;i7&#39;, [&#39;if6&#39;, &#39;if9&#39;, &#39;if2&#39;, &#39;if7&#39;, &#39;if8&#39;]),
  (&#39;i8&#39;, [&#39;if7&#39;, &#39;if8&#39;, &#39;if0&#39;, &#39;if1&#39;, &#39;if6&#39;]),
  (&#39;i9&#39;, [&#39;if0&#39;, &#39;if7&#39;, &#39;if8&#39;, &#39;if9&#39;, &#39;if6&#39;])]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">after</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;user_id&#39;: [&#39;u1&#39;, &#39;u2&#39;, &#39;u5&#39;, &#39;u6&#39;, &#39;u7&#39;, &#39;u8&#39;, &#39;u9&#39;],
 &#39;item_id&#39;: [&#39;i3&#39;, &#39;i4&#39;, &#39;i5&#39;, &#39;i6&#39;, &#39;i7&#39;, &#39;i8&#39;, &#39;i9&#39;],
 &#39;user_metadata&#39;: [&#39;uf3&#39;, &#39;uf4&#39;, &#39;uf5&#39;, &#39;uf6&#39;, &#39;uf7&#39;, &#39;uf8&#39;, &#39;uf9&#39;],
 &#39;user_metadata_interaction&#39;: [(&#39;u1&#39;, [&#39;uf7&#39;, &#39;uf4&#39;, &#39;uf9&#39;, &#39;uf8&#39;, &#39;uf6&#39;]),
  (&#39;u2&#39;, [&#39;uf7&#39;, &#39;uf6&#39;, &#39;uf4&#39;, &#39;uf5&#39;, &#39;uf8&#39;]),
  (&#39;u5&#39;, [&#39;uf6&#39;, &#39;uf8&#39;, &#39;uf4&#39;, &#39;uf3&#39;, &#39;uf5&#39;]),
  (&#39;u6&#39;, [&#39;uf7&#39;, &#39;uf9&#39;, &#39;uf3&#39;, &#39;uf5&#39;, &#39;uf6&#39;]),
  (&#39;u7&#39;, [&#39;uf5&#39;, &#39;uf3&#39;, &#39;uf8&#39;, &#39;uf4&#39;, &#39;uf6&#39;]),
  (&#39;u8&#39;, [&#39;uf6&#39;, &#39;uf8&#39;, &#39;uf9&#39;, &#39;uf3&#39;, &#39;uf5&#39;]),
  (&#39;u9&#39;, [&#39;uf7&#39;, &#39;uf5&#39;, &#39;uf3&#39;, &#39;uf6&#39;, &#39;uf8&#39;])],
 &#39;item_metadata&#39;: [&#39;if3&#39;, &#39;if4&#39;, &#39;if5&#39;, &#39;if6&#39;, &#39;if7&#39;, &#39;if8&#39;, &#39;if9&#39;],
 &#39;item_metadata_interaction&#39;: [(&#39;i3&#39;, [&#39;if8&#39;, &#39;if7&#39;, &#39;if3&#39;, &#39;if9&#39;, &#39;if4&#39;]),
  (&#39;i4&#39;, [&#39;if8&#39;, &#39;if7&#39;, &#39;if9&#39;, &#39;if4&#39;, &#39;if5&#39;]),
  (&#39;i5&#39;, [&#39;if4&#39;, &#39;if9&#39;, &#39;if3&#39;, &#39;if7&#39;, &#39;if6&#39;]),
  (&#39;i6&#39;, [&#39;if4&#39;, &#39;if6&#39;, &#39;if3&#39;, &#39;if9&#39;, &#39;if5&#39;]),
  (&#39;i7&#39;, [&#39;if6&#39;, &#39;if3&#39;, &#39;if4&#39;, &#39;if5&#39;, &#39;if9&#39;]),
  (&#39;i8&#39;, [&#39;if6&#39;, &#39;if7&#39;, &#39;if9&#39;, &#39;if8&#39;, &#39;if5&#39;]),
  (&#39;i9&#39;, [&#39;if6&#39;, &#39;if4&#39;, &#39;if7&#39;, &#39;if9&#39;, &#39;if3&#39;])]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

